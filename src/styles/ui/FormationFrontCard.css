.formation-card {
    height: 380px;
    position: relative;
    transition: transform 0.3s ease, box-shadow 0.3s ease, border-color 0.3s ease;
    border: 1px solid rgba(255, 255, 255, 0.1);
    background: rgba(20, 20, 25, 0.8);
    cursor: pointer;
    user-select: none;
}

/* Selected State - Blue Glow */
.formation-card.selected {
    transform: translateY(-10px);
    box-shadow: 0 0 20px rgba(59, 130, 246, 0.6); 
    border-color: #3b82f6;
    z-index: 10;
}

/* Target State (Hover/Drop Preview) - Orange Glow */
.formation-card.target {
    box-shadow: 0 0 25px rgba(245, 158, 11, 0.8); /* Amber-500 */
    border-color: #f59e0b;
    transform: translateY(-10px); /* Match selected state translation */
    z-index: 20; /* Higher than selected */
}

/* If it is BOTH selected and target (hovering over self), keep Blue or Mix? 
   Usually we want to show it's the "source". 
   But user asked for "orange glow" for where it will fall.
   If dropping on self -> Orange.
*/
.formation-card.selected.target {
    box-shadow: 0 0 25px rgba(245, 158, 11, 0.8);
    border-color: #f59e0b;
}


.formation-card:hover {
    transform: translateY(-10px);
    border-color: rgba(255, 255, 255, 0.3);
}

.formation-card.selected:hover {
    transform: translateY(-10px); 
}

/* Empty Slot Styling */
.formation-card.empty-slot {
    background: rgba(255, 255, 255, 0.05);
    border: 2px dashed rgba(255, 255, 255, 0.1);
    display: flex;
    justify-content: center;
    align-items: center;
    color: rgba(255, 255, 255, 0.2);
    font-size: 0.9rem;
    height: 380px;
}

.formation-card.empty-slot:hover {
    background: rgba(255, 255, 255, 0.1);
    border-color: rgba(255, 255, 255, 0.3);
}

.formation-card.empty-slot.target {
    border-color: #f59e0b;
    background: rgba(245, 158, 11, 0.1);
    box-shadow: 0 0 15px rgba(245, 158, 11, 0.4);
}

.card-header {
    padding: 0.8rem;
    background: rgba(0, 0, 0, 0.3);
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-weight: bold;
    font-size: 1.2rem;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.card-avatar-container {
    flex: 1;
    padding: 1rem;
    display: flex;
    justify-content: center;
    align-items: center;
}

.avatar-placeholder {
    width: 120px;
    height: 120px;
    border-radius: 50%;
    background: #64748b;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 3rem;
    font-weight: 900;
    box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.5);
}

.card-stats {
    padding: 1rem;
    background: rgba(0, 0, 0, 0.4);
}

.stat-row {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    margin-bottom: 0.5rem;
}

.stat-row label {
    width: 30px;
    font-size: 0.8rem;
    color: #94a3b8;
    font-weight: bold;
}

.bar-container {
    flex: 1;
    height: 16px;
    background: #334155;
    border-radius: 8px;
    overflow: hidden;
    position: relative;
}

.bar-fill {
    height: 100%;
    transition: width 0.3s ease;
}

.hp .bar-fill {
    background: linear-gradient(to right, #ef4444, #f87171);
}

.mp .bar-fill {
    background: linear-gradient(to right, #3b82f6, #60a5fa);
}

.bar-text {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 0.7rem;
    text-shadow: 1px 1px 2px black;
}
